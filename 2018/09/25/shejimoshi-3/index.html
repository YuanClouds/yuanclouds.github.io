<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="设计模式---builder"><meta name="keywords" content="设计模式"><meta name="author" content="siven.wu,undefined"><meta name="copyright" content="siven.wu"><title>设计模式---builder | 一IT届吸猫狂 · siven.wu</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.5.6"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css?version=1.5.6"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://pfpoo3r6f.bkt.clouddn.com/avater.jpg"></div><div class="author-info__name text-center">siven.wu</div><div class="author-info__description text-center">梦想，一直在路上</div><div class="follow-button"><a href="https://github.com/YuanClouds" target="_blank">关注我吧</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">7</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">4</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(http://pfpoo3r6f.bkt.clouddn.com/blog_top_bg_2.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">一IT届吸猫狂 · siven.wu</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a></span></div><div id="post-info"><div id="post-title">设计模式---builder</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-09-25</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>####1.什么是builder模式<br>   &nbsp;  &nbsp;简单解释，在程序设计的时候，如果面对的对象属性较多，对象复杂性比较大（例如对象包含对象）的情况，开发者选择这种设计模式去设计一个类的时候，开发者可以在不知道类内部结构构建细节的情况下，清晰地控制对象构造流程。例如，一个person类拥有很多属性的时候，最常见的比如name，age，weight，height等等。在这里两个地方体现出builder模式的优势：</p>
<p>（1）如果在创建一个person对象，只需要name、age属性，则需要创建多一个包含这两个属性的构造方法。需求不一样，构造方法就需要更多。累赘。<br>（2）对于普通的构造方法，当我们初始化weight、height两个属性的时候，我们一般会如下。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Person person = new Person(&quot;123&quot;,&quot;53&quot;);</span><br></pre></td></tr></table></figure></p>
<p>如果属性一多，我们根本很模糊知道weight是哪个。</p>
<p>####2.模式适用范围<br>（1）当创建复杂对象的算法应该独立于该对象的组成部分以及它们的装配方式时。<br>（2）当构造过程必须允许被构造的对象有不同的表示时。<br>（3）Builder模式要解决的也正是这样的问题：<br>　　当我们要创建的对象很复杂的时候（通常是由很多其他的对象组合而成），<br>　　我们要复杂对象的创建过程和这个对象的表示（展示）分离开来，<br>　　这样做的好处就是通过一步步的进行复杂对象的构建，<br>　　由于在每一步的构造过程中可以引入参数，使得经过相同的步骤创建最后得到的对象的展示不一样。</p>
<p>####3.具体应用<br>笔者这里通过汽车Car类对象包含引擎Engine类、导航Naviaror类、车轮Wheel类作为一个复杂性类说明Builder模式的应用。</p>
<p>（1）公有抽象类Car<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 车的抽象类 较复杂的对象，对象包含对象</span><br><span class="line"> * Created by wsy on 2016/2/17.</span><br><span class="line"> */</span><br><span class="line">public abstract class Car &#123;</span><br><span class="line"></span><br><span class="line">    protected Engine mEngine;</span><br><span class="line">    protected Navigator mNavigator;</span><br><span class="line">    protected Wheel mWheel;</span><br><span class="line"></span><br><span class="line">    public Car() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Car(Engine mEngine, Navigator mNavigator, Wheel mWheel) &#123;</span><br><span class="line">        this.mEngine = mEngine;</span><br><span class="line">        this.mNavigator = mNavigator;</span><br><span class="line">        this.mWheel = mWheel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    public Car(Engine mEngine) &#123;</span><br><span class="line">        this.mEngine = mEngine;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Car(Engine mEngine, Navigator mNavigator) &#123;</span><br><span class="line">        this.mEngine = mEngine;</span><br><span class="line">        this.mNavigator = mNavigator;</span><br><span class="line">    &#125;</span><br><span class="line">     **/</span><br><span class="line"></span><br><span class="line">    public Engine getmEngine() &#123;</span><br><span class="line">        return mEngine;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setmEngine(Engine mEngine) &#123;</span><br><span class="line">        this.mEngine = mEngine;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Navigator getmNavigator() &#123;</span><br><span class="line">        return mNavigator;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setmNavigator(Navigator mNavigator) &#123;</span><br><span class="line">        this.mNavigator = mNavigator;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Wheel getmWheel() &#123;</span><br><span class="line">        return mWheel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setmWheel(Wheel mWheel) &#123;</span><br><span class="line">        this.mWheel = mWheel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Car&#123;&quot; +</span><br><span class="line">                &quot;mEngine=&quot; + mEngine +</span><br><span class="line">                &quot;, mNavigator=&quot; + mNavigator +</span><br><span class="line">                &quot;, mWheel=&quot; + mWheel +</span><br><span class="line">                &apos;&#125;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>（2） 具体实现奔驰类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 奔驰实体类</span><br><span class="line"> * Created by wsy on 2016/2/17.</span><br><span class="line"> */</span><br><span class="line">public class BenzCar extends Car &#123;</span><br><span class="line"></span><br><span class="line">    public BenzCar() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public BenzCar(Engine mEngine, Navigator mNavigator, Wheel mWheel) &#123;</span><br><span class="line">        super(mEngine, mNavigator, mWheel);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">    public BenzCar(Engine mEngine) &#123;</span><br><span class="line">        super(mEngine);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public BenzCar(Engine mEngine, Navigator mNavigator) &#123;</span><br><span class="line">        super(mEngine, mNavigator);</span><br><span class="line">    &#125;</span><br><span class="line">     **/</span><br><span class="line"></span><br><span class="line">    // 这里如果重写了，直接通过this.mEngine，因为是父类projected类型，访问不到，因此日志打印会为空值，多态</span><br><span class="line">//    @Override</span><br><span class="line">//    public void setmEngine(String mEngine) &#123;</span><br><span class="line">//        mEngine = &quot;Benz Engine 2016&quot;;</span><br><span class="line">//    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>（3）Car车构建类Builder<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 奔驰构建类</span><br><span class="line"> * Created by wsy on 2016/2/17.</span><br><span class="line"> */</span><br><span class="line">public class BenzBuilder&#123;</span><br><span class="line"></span><br><span class="line">    private Car mCar = new BenzCar();</span><br><span class="line"></span><br><span class="line">    public BenzBuilder builderEngine(Engine mEngine) &#123;</span><br><span class="line">        mCar.setmEngine(mEngine);</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public BenzBuilder builderWheel(Wheel mWheel) &#123;</span><br><span class="line">        mCar.setmWheel(mWheel);</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Builder builderNavigator(Navigator mNavigator) &#123;</span><br><span class="line">        mCar.setmNavigator(mNavigator);</span><br><span class="line">        return this;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Car onCreate() &#123;</span><br><span class="line">        return mCar;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>（4）引擎Engine类、导航Naviaror类、车轮Wheel类（这里构建类builder都是静态内部类）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 引擎实体类</span><br><span class="line"> * Created by wsy on 2016/2/17.</span><br><span class="line"> */</span><br><span class="line">public class Engine &#123;</span><br><span class="line"></span><br><span class="line">    private String brand;</span><br><span class="line">    private String power;</span><br><span class="line"></span><br><span class="line">    public Engine(String brand, String power) &#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">        this.power = power;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Engine() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getBrand() &#123;</span><br><span class="line">        return brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setBrand(String brand) &#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getPower() &#123;</span><br><span class="line">        return power;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setPower(String power) &#123;</span><br><span class="line">        this.power = power;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Engine&#123;&quot; +</span><br><span class="line">                &quot;brand=&apos;&quot; + brand + &apos;\&apos;&apos; +</span><br><span class="line">                &quot;, power=&apos;&quot; + power + &apos;\&apos;&apos; +</span><br><span class="line">                &apos;&#125;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class EngineBuilder&#123;</span><br><span class="line"></span><br><span class="line">        private Engine mEngine = new Engine();</span><br><span class="line">        private String brand;</span><br><span class="line">        private String power;</span><br><span class="line"></span><br><span class="line">        public EngineBuilder setBrand(String brand) &#123;</span><br><span class="line">            mEngine.setBrand(brand);</span><br><span class="line">          return this;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public EngineBuilder setPower(String power) &#123;</span><br><span class="line">            mEngine.setPower(power);</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public Engine create()&#123;</span><br><span class="line">            return mEngine;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">package cn.wsy.builder.simple.common;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 导航仪实体类</span><br><span class="line"> * Created by wsy on 2016/2/17.</span><br><span class="line"> */</span><br><span class="line">public class Navigator &#123;</span><br><span class="line"></span><br><span class="line">    private String brand;</span><br><span class="line">    private String price;</span><br><span class="line"></span><br><span class="line">    public Navigator(String brand, String price) &#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">        this.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Navigator() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getBrand() &#123;</span><br><span class="line">        return brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setBrand(String brand) &#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getPrice() &#123;</span><br><span class="line">        return price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setPrice(String price) &#123;</span><br><span class="line">        this.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Navigator&#123;&quot; +</span><br><span class="line">                &quot;brand=&apos;&quot; + brand + &apos;\&apos;&apos; +</span><br><span class="line">                &quot;, price=&apos;&quot; + price + &apos;\&apos;&apos; +</span><br><span class="line">                &apos;&#125;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class NavigatorBuilder &#123;</span><br><span class="line">        private Navigator mNavigator = new Navigator();</span><br><span class="line">        private String brand;</span><br><span class="line">        private String price;</span><br><span class="line"></span><br><span class="line">        public NavigatorBuilder setPrice(String price) &#123;</span><br><span class="line">            mNavigator.setPrice(price);</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public NavigatorBuilder setBrand(String brand) &#123;</span><br><span class="line">            mNavigator.setBrand(brand);</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public Navigator create()&#123;</span><br><span class="line">            return mNavigator;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package cn.wsy.builder.simple.common;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 车轮实体类</span><br><span class="line"> * Created by wsy on 2016/2/17.</span><br><span class="line"> */</span><br><span class="line">public class Wheel &#123;</span><br><span class="line"></span><br><span class="line">    private String brand;</span><br><span class="line">    private String weight;</span><br><span class="line"></span><br><span class="line">    public Wheel() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Wheel(String brand, String weight) &#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">        this.weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getBrand() &#123;</span><br><span class="line">        return brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setBrand(String brand) &#123;</span><br><span class="line">        this.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public String getWeight() &#123;</span><br><span class="line">        return weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setWeight(String weight) &#123;</span><br><span class="line">        this.weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public String toString() &#123;</span><br><span class="line">        return &quot;Wheel&#123;&quot; +</span><br><span class="line">                &quot;brand=&apos;&quot; + brand + &apos;\&apos;&apos; +</span><br><span class="line">                &quot;, weight=&apos;&quot; + weight + &apos;\&apos;&apos; +</span><br><span class="line">                &apos;&#125;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static class WheelBuilder&#123;</span><br><span class="line">        private Wheel mWhell = new Wheel();</span><br><span class="line">        private String brand;</span><br><span class="line">        private String weight;</span><br><span class="line"></span><br><span class="line">        public WheelBuilder setBrand(String brand) &#123;</span><br><span class="line">            mWhell.setBrand(brand);</span><br><span class="line">           return this;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public WheelBuilder setWeight(String weight) &#123;</span><br><span class="line">            mWhell.setWeight(weight);</span><br><span class="line">            return this;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public Wheel create()&#123;</span><br><span class="line">            return mWhell;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（4）测试方法<br>    这里我们通过对比传统构造方法来对比Builder构造的优势:<br>1.如果类奔驰车类构造对象的时候不需要导航仪类，传统的构造方法需要定义多一个构造方法，具体如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public BenzCar(Engine mEngine, Wheel mWheel) &#123;</span><br><span class="line">          super(mEngine, mWheel);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>构造如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">BenzCar car1 = new BenzCar(new Engine(&quot;321&quot;,&quot;321&quot;),new Wheel(&quot;123&quot;,&quot;123&quot;));</span><br></pre></td></tr></table></figure></p>
<p>2.利用builder模式构造<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//这种方式创建 可观性清晰 构造器也可以减少</span><br><span class="line">BenzBuilder builder = new BenzBuilder();//oncreate 可以拿到实体对象</span><br><span class="line">BenzCar car = (BenzCar) builder</span><br><span class="line">                       .builderEngine(new Engine.EngineBuilder().setBrand(&quot;brand&quot;).create())</span><br><span class="line">                       .builderNavigator(new Navigator.NavigatorBuilder().setPrice(&quot;price&quot;).create())</span><br><span class="line">                       .onCreate()</span><br><span class="line">                      ;Log.i(TAG, car.toString());</span><br></pre></td></tr></table></figure></p>
<p> 这样是不是更加清晰！需求改动、最初类属性没有修改的时候，可以直接不用修改类的构造方法，维护性更高！但是这种方式会严重增加的代码量，所以各有优缺点！！</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">siven.wu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yuanclouds.cn/2018/09/25/shejimoshi-3/">http://yuanclouds.cn/2018/09/25/shejimoshi-3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/设计模式/">设计模式</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2018/10/02/聊下16ms Android中的多线程/"><i class="fa fa-chevron-left">  </i><span>16ms？60Fps？Android中的多线程</span></a></div><div class="next-post pull-right"><a href="/2018/09/22/shejimoshi-2/"><span>设计模式---Strategy</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2017 - 2018 By siven.wu</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">Halo, welcome to my <a href="https://yuanclouds.cn">blog</a>!</div><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="/js/third-party/anime.min.js"></script><script src="/js/third-party/jquery.min.js"></script><script src="/js/third-party/jquery.fancybox.min.js"></script><script src="/js/third-party/velocity.min.js"></script><script src="/js/third-party/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.5.6"></script><script src="/js/fancybox.js?version=1.5.6"></script><script src="/js/sidebar.js?version=1.5.6"></script><script src="/js/copy.js?version=1.5.6"></script><script src="/js/fireworks.js?version=1.5.6"></script><script src="/js/transition.js?version=1.5.6"></script><script src="/js/scroll.js?version=1.5.6"></script><script src="/js/head.js?version=1.5.6"></script></body></html>